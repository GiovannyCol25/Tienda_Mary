generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider  = "postgresql"
  url       = env("DATABASE_URL")
  directUrl = env("DIRECT_URL")
}

model Producto {
  id_producto          Int       @id @default(autoincrement())
  nombre_producto      String    @db.VarChar(150)
  descripcion          String?
  categoria            String?   @db.VarChar(100)
  precio_venta         Decimal   @db.Decimal(12, 2)
  precio_costo         Decimal   @db.Decimal(12, 2)
  unidades_disponibles Int       @default(0)
  fecha_ingreso        DateTime? @default(now()) @db.Timestamptz(6)
  proveedor            String?   @db.VarChar(150)
  ultima_actualizacion DateTime? @default(now()) @updatedAt @db.Timestamptz(6)

  @@map("productos")
}

model historial_cambios_productos {
  id_historial   Int       @id @default(autoincrement())
  id_producto    Int?
  campo_alterado String?
  valor_anterior String?
  valor_nuevo    String?
  fecha_cambio   DateTime? @default(now()) @db.Timestamptz(6)
  usuario        String?   @default(dbgenerated("CURRENT_USER"))
}
